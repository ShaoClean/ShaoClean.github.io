import{_ as n}from"./_plugin-vue_export-helper.cdc0426e.js";import{o as a,c as s,d as t}from"./app.a9d0d745.js";const p={},e=t(`<h1 id="router-view-\u914D\u5408-keep-alive" tabindex="-1"><a class="header-anchor" href="#router-view-\u914D\u5408-keep-alive" aria-hidden="true">#</a> router-view \u914D\u5408 keep-alive</h1><p>\u4ECA\u5929\u5728\u505A\u9879\u76EE\u7684\u8FC7\u7A0B\u4E2D\u9047\u5230\u4E00\u4E2A\u9700\u6C42\uFF1A\u53D1\u5E03\u5546\u673A\u9875\u9762\u7684\u6A21\u677F\u6570\u636E\u8FDB\u884C\u7F13\u5B58\u3002</p><p>\u539F\u672C\u7684 Publish \u9875\u9762\u7ED3\u6784\uFF1A</p><p>Publish.vue:</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>van-form</span> <span class="token attr-name">@submit</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>onSubmit<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>van-cell-group</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TemplateForm</span> <span class="token attr-name">:items</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>data<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>van-cell-group</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>van-button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>publish<span class="token punctuation">&quot;</span></span> <span class="token attr-name">round</span> <span class="token attr-name">block</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span> <span class="token attr-name">native-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      \u53D1\u5E03\u5546\u673A
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>van-button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>van-form</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u7B2C\u4E00\u53CD\u5E94\u5C31\u662F\u901A\u8FC7 keep-alive \u6807\u7B7E\u561B\uFF0C\u4E8E\u662F\u4E8C\u8BDD\u4E0D\u8BF4\u7684\u52A0\u4E0A\u4E86\uFF1A Publish.vue:</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>keep-alive</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>van-form</span> <span class="token attr-name">@submit</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>onSubmit<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>van-cell-group</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TemplateForm</span> <span class="token attr-name">:items</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>data<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>van-cell-group</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>van-button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>publish<span class="token punctuation">&quot;</span></span> <span class="token attr-name">round</span> <span class="token attr-name">block</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span> <span class="token attr-name">native-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        \u53D1\u5E03\u5546\u673A
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>van-button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>van-form</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>keep-alive</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6253\u5F00\u63A7\u5236\u53F0\uFF0C\u53D1\u73B0\u5207\u6362\u5230\u8FD9\u4E2A\u9875\u9762\u7684\u65F6\u5019\u8FD8\u662F\u4F1A\u53D1\u9001 Ajax \u8BF7\u6C42\u6765\u83B7\u53D6\u6A21\u677F\u3002</p><p>\u7136\u540E\u60F3\u5230\uFF0C\u4E0D\u80FD\u5728\u5F53\u524D\u6587\u4EF6\u4F7F\u7528\uFF0C\u9700\u8981\u5728\u5916\u9762\u4F7F\u7528\u8BE5\u7EC4\u4EF6\u7684\u6807\u7B7E\u4E0A\u4F7F\u7528\u3002</p><p>\u4E8E\u662F\u53BB\u4E86\u89E3\u4E86\u4E00\u4E0B<code>keep-alive</code>\u6807\u7B7E\uFF0C\u5E76\u5BF9\u5176\u8FDB\u884C\u6539\u8FDB\uFF1A</p><p>\u8DEF\u7531\u7B80\u5316\u4E00\u4E0B\u662F\u8FD9\u6837\u7684\uFF1A</p><p>router.ts:</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">&#39;/home&#39;</span><span class="token punctuation">,</span>
    <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&#39;@/pages/Home.vue&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">&#39;/publish&#39;</span><span class="token punctuation">,</span>
    <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&#39;@/pages/Publish.vue&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">&#39;/mine&#39;</span><span class="token punctuation">,</span>
    <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&#39;@/pages/Mine.vue&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u76EE\u7684\u662F\u5E0C\u671Bkeep-alive\u6807\u7B7E\u901A\u8FC7\u5B83\u7684<code>include</code>\u5C5E\u6027\u6240\u6307\u5B9A\u7684\u6807\u7B7E\u540D\u5B57\u6765\u7F13\u5B58\u9875\u9762\uFF0C\u4E8E\u662F\u6211\u5C31\u5199\u4E86<code>Publish</code></p><p>\u4F7F\u7528 keep-alive \u6807\u7B7E\u540E\uFF1A</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>KeepAlive</span> <span class="token attr-name">include</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Publish<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>KeepAlive</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4F7F\u7528\u8FC7\u540E\u8FD8\u4E0D\u884C\u554A\uFF1F\u5207\u6362\u5230\u8FD9\u4E2A\u9875\u9762\u4F9D\u65E7\u4F1A\u53D1\u9001 Ajax \u8BF7\u6C42\u6A21\u677F\u6570\u636E\u3002</p><p>\u540E\u9762\u627E\u5230\u4E86\u89E3\u51B3\u65B9\u6848\uFF1A</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span> <span class="token attr-name">v-slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ Component }<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>keep-alive</span> <span class="token attr-name">include</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Publish<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>component</span> <span class="token attr-name">:is</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Component<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>keep-alive</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-view</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5B98\u7F51\u662F\u8FD9\u6837\u63CF\u8FF0\u7684\uFF1A</p><blockquote><p><code>&lt;router-view&gt;</code> \u66B4\u9732\u4E86\u4E00\u4E2A v-slot API\uFF0C\u4E3B\u8981\u4F7F\u7528 <code>&lt;transition&gt;</code> \u548C <code>&lt;keep-alive&gt;</code> \u7EC4\u4EF6\u6765\u5305\u88F9\u4F60\u7684\u8DEF\u7531\u7EC4\u4EF6\u3002</p><ul><li>Component: VNodes, \u4F20\u9012\u7ED9 <code>&lt;component&gt;</code>\u7684is prop\u3002</li><li>route: \u89E3\u6790\u51FA\u7684\u6807\u51C6\u5316\u8DEF\u7531\u5730\u5740\u3002</li></ul></blockquote><p>\u6211\u662F\u8FD9\u6837\u7406\u89E3\u7684\uFF1A <code>router-view</code>\u6807\u7B7E\u6709\u4E00\u4E2A<code>v-slot</code>\u7684\u4F5C\u7528\u57DF\u63D2\u69FD\uFF0C\u8FD9\u4E2A\u5C5E\u6027\u53EF\u4EE5\u83B7\u53D6\u5230\u5F53\u524D\u9875\u9762\u7684<code>\u7EC4\u4EF6(Component)</code>\u548C<code>\u8DEF\u7531\u5730\u5740(route)</code>\u3002</p><p>\u7531\u4E8E<code>keep-alive</code>\u6807\u7B7E\u53EA\u80FD\u7528\u4E8E\u7EC4\u4EF6\u4E0A\uFF0C\u4E8E\u662F\u4F7F\u7528<code>component</code>\u6807\u7B7E\u6765\u52A8\u6001\u7684\u6E32\u67D3\u7EC4\u4EF6\u3002</p><p>\u7136\u540E\u4F7F\u7528\u83B7\u53D6\u5230\u7684<code>Component</code>\u5C5E\u6027\u6765\u6307\u5B9A\u9700\u8981\u6E32\u67D3\u7684\u7EC4\u4EF6</p>`,24),o=[e];function c(l,u){return a(),s("div",null,o)}const r=n(p,[["render",c],["__file","router-view.html.vue"]]);export{r as default};
